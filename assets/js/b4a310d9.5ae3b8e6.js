"use strict";(self.webpackChunkcapella_documentation=self.webpackChunkcapella_documentation||[]).push([[2575],{442:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/02_screenshot-ba7c01dee8bd237e040167c4f191624a.png"},648:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/05_screenshot-c8f11f20ffc346f19a3244898345148d.png"},692:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/01_screenshot-72ce43d067540d66f9674ef1275c6044.png"},1489:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/06_screenshot-3d77c98f901cdd95050f4433c8b5104e.png"},1951:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/09_screenshot-4bd66d8fc8df801c9caac88f3c4d8fd2.png"},3651:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/04_screenshot-3ac9db929b45b41d3c14979481d14aae.png"},3830:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/10_screenshot-a8fe2870023484485b725677bde498b7.png"},3979:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/13_screenshot-5bcebbd1ef9b2235a444a78cf5c00213.png"},5641:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/11_screenshot-6fabe3a2c93ee92641b31227bcea2445.png"},5687:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/08_screenshot-2842b96658ef4152f0b16b9067268aa7.png"},7946:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/03_screenshot-309efb30d9de64c215ccf2378415fec1.png"},8284:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/16_screenshot-745da23e9a0710e564ebc5efcbf3233e.png"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}},8782:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/07_screenshot-cd01dacb450d0055a72a45ac034892c0.png"},9458:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/14_screenshot-884649983b45948cbf2453ef792c08ad.png"},9988:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/index","title":"Cambria FTC ARIB STD B37 Captions Extraction and Conversion","description":"Version 1 - 11/28/2023","source":"@site/docs/Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3/index.md","sourceDirName":"Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3","slug":"/Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/","permalink":"/CapellaDocumentsTest/docs/Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3/index.md","tags":[],"version":"current","frontMatter":{"title":"Cambria FTC ARIB STD B37 Captions Extraction and Conversion"},"sidebar":"FTCSidebar","previous":{"title":"Cambria FTC and Cluster Trusted Executables and Scripts","permalink":"/CapellaDocumentsTest/docs/Cambria FTC/Tutorials/cambria-ftc-and-cluster-trusted-executable/"},"next":{"title":"Speech-To-Text Filter","permalink":"/CapellaDocumentsTest/docs/cambria-ftc-stt"}}');var i=s(4848),r=s(8453);const c={title:"Cambria FTC ARIB STD B37 Captions Extraction and Conversion"},o="Cambria FTC: ARIB STD B37 Captions Extraction in MXF and Conversion to WebVTT and Burning the Captions in Video",a={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Note:",id:"note",level:2},{value:"Step 1: Detecting ARIB STD B37 Captions",id:"step-1-detecting-arib-std-b37-captions",level:2},{value:"Step 2: Extract Captions to WebVTT",id:"step-2-extract-captions-to-webvtt",level:2},{value:"Step 3: Burn in WebVTT Captions on Video",id:"step-3-burn-in-webvtt-captions-on-video",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cambria-ftc-arib-std-b37-captions-extraction-in-mxf-and-conversion-to-webvtt-and-burning-the-captions-in-video",children:"Cambria FTC: ARIB STD B37 Captions Extraction in MXF and Conversion to WebVTT and Burning the Captions in Video"})}),"\n",(0,i.jsx)(n.p,{children:"Version 1 - 11/28/2023"}),"\n",(0,i.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#step-1-detecting-arib-std-b37-captions",children:"Step 1: Detecting ARIB STD B37 Captions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#step-2-extract-captions-to-webvtt",children:"Step 2: Extract Captions to WebVTT"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#step-3-burn-in-webvtt-captions-on-video",children:"Step 3: Burn in WebVTT Captions on Video"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"note",children:"Note:"}),"\n",(0,i.jsx)(n.p,{children:"This workflow supports ARIB STD B37 caption extraction from MXF files only as of 11/28/2023. Captions in TS streams may be supported in the future."}),"\n",(0,i.jsx)(n.h2,{id:"step-1-detecting-arib-std-b37-captions",children:"Step 1: Detecting ARIB STD B37 Captions"}),"\n",(0,i.jsx)(n.p,{children:"Submit a job through API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST: https://localhost:8648/CambriaFC/v1/Jobs\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sample JobXML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\r\n<JobDescr Description="Analysis UCP_submitter_3" NumberOfRetries="1" Priority="5" Submitter="default" JobTag="">\r\n  <Job Type="SourceAnalysis" SourceFilename="C:\\Users\\Public\\Documents\\Source.MXF" OutputFilename="c:\\temp\\analysisB37.xml">\r\n  </Job>\r\n</JobDescr>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(692).A+"",width:"627",height:"198"})}),"\n",(0,i.jsxs)(n.p,{children:["After job completion, search for ",(0,i.jsx)(n.code,{children:"Metadata HasSTDB37"})," in the output. If set to ",(0,i.jsx)(n.code,{children:"1"}),", the source has captions; otherwise, no captions are detected."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(442).A+"",width:"626",height:"341"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(7946).A+"",width:"626",height:"252"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(3651).A+"",width:"626",height:"567"})}),"\n",(0,i.jsx)(n.h2,{id:"step-2-extract-captions-to-webvtt",children:"Step 2: Extract Captions to WebVTT"}),"\n",(0,i.jsx)(n.p,{children:"FTC will extract captions from a source file and generate a WebVTT output."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Import your source into FTC."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(648).A+"",width:"624",height:"310"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Add a closed caption exporter preset."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(1489).A+"",width:"624",height:"408"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["In the preset editor:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.strong,{children:"Container"})," to ",(0,i.jsx)(n.strong,{children:"Closed Captions"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source Caption Mode"})," should be ",(0,i.jsx)(n.strong,{children:"ARIB-STD-B37"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Specify an ",(0,i.jsx)(n.strong,{children:"output directory and filename"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Enable ",(0,i.jsx)(n.strong,{children:"Include Font Size info (cue)"})," to preserve font size."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(8782).A+"",width:"621",height:"450"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Queue the job."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(5687).A+"",width:"496",height:"328"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"The job will process in Cambria Manager, where you can monitor status."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(1951).A+"",width:"624",height:"355"})}),"\n",(0,i.jsx)(n.p,{children:"Sample WebVTT Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-vtt",children:"WEBVTT\r\n\r\n00:00:11.911 --\x3e 00:00:15.915 line:72% position:52% align:left\r\n<c.white>\u5b57\u5e55\u30b5\u30f3\u30d7\u30eb 1</c>\r\n\r\n00:00:15.915 --\x3e 00:00:17.917 line:72% position:58% align:left\r\n<c.yellow>\u5b57\u5e55\u30b5\u30f3\u30d7\u30eb 2</c>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"step-3-burn-in-webvtt-captions-on-video",children:"Step 3: Burn in WebVTT Captions on Video"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Import the source as in previous steps and add a ",(0,i.jsx)(n.strong,{children:"source-side filter"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(3830).A+"",width:"621",height:"392"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Apply ",(0,i.jsx)(n.strong,{children:"Timecode Overwrite Filter"})," to reset timecode to match the WebVTT file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.strong,{children:"Subtitle Burn-In"})," as a filter."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(5641).A+"",width:"623",height:"361"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Configure the filter:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.strong,{children:"Subtitle Source Type"})," to ",(0,i.jsx)(n.strong,{children:"Web Video Text Tracks Format"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Browse and select the ",(0,i.jsx)(n.strong,{children:"WebVTT file"})," generated in Step 2."]}),"\n",(0,i.jsxs)(n.li,{children:["Enable:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Use Embedded Formatting"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Captions are Formatted with ARIB STD-B37"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Use Background"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Use a monospaced font (e.g., ",(0,i.jsx)(n.strong,{children:"Noto Sans JP"})," from ",(0,i.jsx)(n.a,{href:"https://fonts.google.com/specimen/Noto+Sans+JP",children:"Google Fonts"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(3979).A+"",width:"627",height:"404"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["Ensure two ",(0,i.jsx)(n.strong,{children:"source-side filters"})," are set in this order:"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(9458).A+"",width:"511",height:"386"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsxs)(n.li,{children:["Switch to the ",(0,i.jsx)(n.strong,{children:"Encoding Tab"}),", add an encoding preset."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(8284).A+"",width:"627",height:"360"})}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsxs)(n.li,{children:["Queue the job in ",(0,i.jsx)(n.strong,{children:"Manager"})," and wait for the output video with burnt-in subtitles."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Screenshot",src:s(3830).A+"",width:"621",height:"392"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"This document outlines the step-by-step process for detecting, extracting, and burning ARIB STD B37 captions. Let me know if any adjustments are needed!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);